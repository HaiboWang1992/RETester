source tool,target tool,Version,JDK version,Refactoring Type,Symptom,Procedure,submitted,Input program,Expected output prgram,Actual output program
Eclipse,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Introduce Parameter,behavior change,"select a.f();
Refactor->Introduce Parameter, replace all occurances, press Enter",https://youtrack.jetbrains.com/issue/IDEA-354039/Introduce-Parameter-refactoring-changes-the-behavior-of-my-program,"public class A {
    int f() {
        System.out.println(""aaa"");
        return 0;
    }

    static void m(A a) {
        a.f();
        a.f();
    }

    public static void main(String[] args) {
        m(new A());
    }
}",-,"public class A {
    int f() {
        System.out.println(""aaa"");
        return 0;
    }

    static void m(int f) {
    }

    public static void main(String[] args) {
        final A a = new A();
        m(a.f());
    }
}"
Eclipse,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Change Signature,Fail to refactoring,"Invoke the refactoring for the method.
Add @Sample to the return type, @Sample Integer p parameter and throws @Sample Exception clause.
Check that everything is correctly shown in preview. Press Refactor.",https://youtrack.jetbrains.com/issue/IDEA-354040/Change-Signature-refactoring-fail-to-perform-the-change-as-shown-in-the-preview,"@Target(ElementType.TYPE_USE)
public @interface Sample {}

public String foo() { return null; }",public @Sample String foo(@Sample Integer p) throws @Sample Exception { return null; },public @Sample String foo(@Sample Integer p) throws Exception { return null; }
Eclipse,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Extract Method,Fail to refactoring,"extract whole 'main' body except the first line, the extracted method should have ""final String s"" parameter, but in the latest IDEA version, it is not",https://youtrack.jetbrains.com/issue/IDEA-354041/Extract-method-refactoring-issue-about-the-parameter-of-the-extracted-method,"public class A {
    public static void main(String[] args) {
        final String s = ""text"";
        class B {
            public String foo() {
                return s;
            }
        }
        System.out.println(new B().foo());
    }
}","public class A {

    public static void main(String[] args) {
        final String s = ""text"";
        extracted(s);
    }

        private static void extracted(final String s) {
                class B {
            public String foo() {
                return s;
            }
        }
        System.out.println(new B().foo());
        }
}","public class A {
    public static void main(String[] args) {
        final String s = ""text"";
        extracted(s);
    }

    private static void extracted(String s) {
        class B {
            public String foo() {
                return s;
            }
        }
        System.out.println(new B().foo());
    }
}"
Eclipse,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Type Immigration,Compile error,"generalizing type of c in A.m(C c) offers I, which makes B.m(I c) duplicate",https://youtrack.jetbrains.com/issue/IDEA-354042/Type-Migration-refactoring-produce-refactored-program-contains-syntax-error,"public class A {
        public void m(C c) {c.n();}
}

public class B extends A {
        public void m(C c) {}
        public void m(I c) {}
}

public class C implements I {
        public void n() {};
}

public interface I {
        public abstract void n();
}",-,"public class A {
        public void m(I c) {c.n();}
}

public class B extends A {
        public void m(C c) {}
        public void m(I c) {}
}

public class C implements I {
        public void n() {};
}

public interface I {
        public abstract void n();
}"
Eclipse,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Rename Class,Fail to refactoring,"Put the cursor on the var, Refactor-rename. There are two problems:
1. The cursor focus should be moved to the A(), but actually not;
2. After manually move cursor to the A() and type new class name for the class then press enter, 
nothing changed. Class A should be changed to the typed new class name.",https://youtrack.jetbrains.com/issue/IDEA-353991/Fail-to-rename-class,"public class A {
}
public class B {
    public static void main(String[] args) {
        var aa = new A();
    }
}","public class C {
}
public class B {
    public static void main(String[] args) {
        var aa = new C();
    }
}","public class A {
}
public class B {
    public static void main(String[] args) {
        var aa = new A();
    }
}"
Eclipse,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Extract Method,Compile error,if the Extract method refactoring is applied to the body of the lambda expression assigned to runnable and class Local is chosen as the destination of the new method,https://youtrack.jetbrains.com/issue/IDEA-354122/Extract-Method-refactoring-produces-refactored-program-contains-syntax-error,"public class A {

    void foo(int value) {
        class Local {
            void bar() {
                Runnable runnable = () -> {
                    System.out.println(value);
                };
            }
        }
    }
}","public class A {
    void foo(int value) {
        class Local {
            void bar() {
                Runnable runnable = () -> {
                    extracted(value);
                };
            }

			private void extracted(int value) {
				System.out.println(value);
			}
        }
    }
}","public class A {

    void foo(int value) {
        class Local {
            void bar() {
                Runnable runnable = () -> {
                    extracted();
                };
            }

            private static void extracted() {
                System.out.println(value);
            }
        }
    }
}"
Eclipse,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Make Static,behavior change,"make static for the method toBeRefactored,
the ouput is different before and after",https://youtrack.jetbrains.com/issue/IDEA-354116/Make-Static-refactoring-erroneously-changes-the-behavior-of-my-program,"public class Foo {

    private int counter;

    public Foo(int initialCounter) {
        this.counter = initialCounter;
    }

    void toBeRefactored() {
        new Foo(counter + 10) {
            void toImplement() {
                toCall();
            }
        }.toImplement();
    }

    void toCall() {
        System.out.println(""Counter: "" + counter);
    }

    public static void main(String[] args) {
        Foo foo = new Foo(5);
        foo.toBeRefactored();
    }
}","public class Foo {

    private int counter;

    public Foo(int initialCounter) {
        this.counter = initialCounter;
    }

    static void toBeRefactored(Foo foo) {
        new Foo(foo.counter + 10) {
            void toImplement() {
                toCall();
            }
        }.toImplement();
    }

    void toCall() {
        System.out.println(""Counter: "" + counter);
    }

    public static void main(String[] args) {
        Foo foo = new Foo(5);
        Foo.toBeRefactored(foo);
    }
}","public class Foo {

    private int counter;

    public Foo(int initialCounter) {
        this.counter = initialCounter;
    }

    static void toBeRefactored(final Foo foo) {
        new Foo(foo.counter + 10) {
            void toImplement() {
                foo.toCall();
            }
        }.toImplement();
    }

    void toCall() {
        System.out.println(""Counter: "" + counter);
    }

    public static void main(String[] args) {
        Foo foo = new Foo(5);
        Foo.toBeRefactored(foo);
    }
}"
IDEA,Eclipse,"Eclipse IDE for Enterprise Java and Web Developers (includes Incubating components)

Version: 2024-03 (4.31.0)
Build id: 20240307-1437
",Oracle OpenJDK 22.0.1,extract method,fail to refactoring,"Steps: 
put carret on STR
call ""Extract method"" refactoring
Select STR.""\{args[0]}""
Expected: 
expression moved to separate method",,"import static java.lang.StringTemplate.STR;

public class A {
    public static void main(String[] args) {
        foobar(args);
    }

    public static String foobar(String[] args) {
        return args.length == 0 ? ""zero length"" : STR.""\{args[0]}"" ;
    }
}","import static java.lang.StringTemplate.STR;

public class A {
    public static void main(String[] args) {
        foobar(args);
    }

    public static String foobar(String[] args) {
        return args.length == 0 ? ""zero length"" : getString(args);
    }

    private static String getString(String[] args) {
        return STR.""\{args[0]}"";
    }
}",a warning
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,extract method,compile error,"perform introduce method refactoring for ""return ""42"";""",,"public class A {
    interface I {
        String foo();
    }
    public void foo(int ii) {
        I r = () -> {
            return ""42"";
        };
    }
}","public class A {
    interface I {
        String foo();
    }
    public void foo(int ii) {
        I r = () -> {
            return extracted();
        };
    }
	private String extracted() {
		return ""42"";
	}
}","public class A {
    interface I {
        String foo();
    }
    public void foo(int ii) {
        I r = () -> {
            qq();
        };
    }

    private void qq() {
        return ""42"";
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,inline method,compile error,perform inline method refactoring on method foo(),,"class A {
	public void main() {
            class T {
                    public T() {}
            }
            foo();
	}
	
	public void foo() {
		class T {
			T t;
			public T() {}
		}
	}
}",,"class A {
	public void main() {
            class T {
                    public T() {}
            }

        class T {

            T t;

            public T() {
            }
        }
	}
	
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,inline method,redundant change,perform inline method refactoring on method middle(),,"class A {
    String middle() {
        return ""middle1"" + ""middle2"";
    }

    String x() {
        return ""start"" + middle() + ""end"";
    }

}","class A {
    String x() {
        return ""start"" + ""middle1"" + ""middle2"" + ""end"";
    }
}","class A {

    String x() {
        return ""start"" + (""middle1"" + ""middle2"") + ""end"";
    }
	
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,inline method,fail to refactoring,perform inline method refactoring on method A.filterMap(); in class B,,"import java.util.HashMap;
import java.util.Map.Entry;
import java.util.Set;
import static java.util.stream.Collectors.toMap;

class A {
    public static void filterMap() {
        new HashMap<Long, Set<Integer>>()
                .entrySet()
                .stream()
                .collect(toMap(Entry::getKey, Entry::getValue));
    }

}
public class B{
    public static void main(String[] args) {
        A.filterMap();
    }
}","import static java.util.stream.Collectors.toMap;

import java.util.HashMap;
import java.util.Map.Entry;
import java.util.Set;

public class B {
    public static void main(String[] args) {
        new HashMap<Long, Set<Integer>>()
		.entrySet()
		.stream()
		.collect(toMap(Entry::getKey, Entry::getValue));
    }
}",error message
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,inline method,behavior change,perform inline method refactoring on method getString(),,"class A {
    public static void main(String[] args) {
        int x = 2;
        System.out.println(getString(x + 2, "" suffix""));
    }

    private static String getString(int number, String suffix) {
        return ""prefix "" + number + suffix;
    }
}","class A {
    public static void main(String[] args) {
        int x = 2;
        System.out.println(""prefix "" + (x + 2) + "" suffix"");
    }

}","class A {
    public static void main(String[] args) {
        int x = 2;
        System.out.println(""prefix "" + x + 2 + "" suffix"");
    }

}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,inline method,compile error,perform inline method refactoring on method test(),,"public class B{
    public B(String x) {
    }
}
class A extends B {
    public A(String x) {
        super(test(x));
    }

    private static String test(String x) {
        String y = x.trim();
        return y.length() > 0 ? y : ""aaaa"";
    }
}",-,"class A extends B {
    public A(String x) {
        String y = x.trim();
        super(y.length() > 0 ? y : ""aaaa"");
    }

}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,inline method,compile error,inline method refactoring on b.foo(),,"class A{
    void bar() {}
}
public class B extends A {
    void foo() {
        super.bar();
    }

    static void err(B b) {
        b.foo(); //inline call to foo()
    }
}",warning message,"public class B extends A {

    static void err(B b) {
        super.bar(); 
    }
}"
IDEA,Eclipse,"Eclipse IDE for Enterprise Java and Web Developers (includes Incubating components)

Version: 2024-03 (4.31.0)
Build id: 20240307-1437
",Oracle OpenJDK 22.0.1,inline method,compile error,inline method refactoring on b.foo(),https://github.com/eclipse-jdt/eclipse.jdt.ui/issues/1529,"class A{
    void bar() {}
}
public class B extends A {
    void foo() {
        super.bar();
    }

    static void err(B b) {
        b.foo(); //inline call to foo()
    }
}",warning message,"public class B extends A {

    static void err(B b) {
        super.bar(); 
    }
}"
IDEA,Eclipse,"Eclipse IDE for Enterprise Java and Web Developers (includes Incubating components)

Version: 2024-03 (4.31.0)
Build id: 20240307-1437
",Oracle OpenJDK 22.0.1,inline method,compile error,inline method refactoring on foo() in class B method bar(),,"public class A {
    private Integer i = 0;

    void foo() {
        i.toString();
    }
}
public class B extends A {
    void bar() {
        foo(); // inline foo
    }
}",warning message,"public class B extends A {
    void bar() {
        i.toString(); // inline foo
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,inline method,compile error,inline method refactoring on foo() in class B method bar(),,"public class A {
    private Integer i = 0;

    void foo() {
        i.toString();
    }
}
public class B extends A {
    void bar() {
        foo(); // inline foo
    }
}",warning message,"public class B extends A {
    void bar() {
        i.toString(); // inline foo
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,extract variable,compile error,select `super` in class B method c() and extract variable,,"public class A {
    public void f() {
    }
}
public class B extends A {
    public void c() {
        super.f(); //select `super` and extract variable
    }
}",warning message,"public class B extends A {
    public void c() {
        final A aSuper = super;
        aSuper.f(); //select `super` and extract variable
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,extract variable,behavior change,"select the expression ((Integer)obj).intValue(), 
and conduct refactoring ""extract local variable"".
Running the refactored program has syntax error.",,"public class A {
    public static void main( String[] args ) {
        foo(new Float(3.5));
    }
    
    public static void foo(Object obj) {
        if (obj instanceof Integer && ((Integer) obj).intValue() > 0) {
            System.out.println(((Integer) obj).intValue());
        } else if (obj instanceof Float && ((Float) obj).floatValue() > 0.0) {
            System.out.println(((Float) obj).floatValue());
        }
    }
}",-,"public class A {
    public static void main( String[] args ) {
        foo(new Float(3.5));
    }
    
    public static void foo(Object obj) {
        final int intValue = ((Integer) obj).intValue();
        if (obj instanceof Integer && intValue > 0) {
            System.out.println(intValue);
        } else if (obj instanceof Float && ((Float) obj).floatValue() > 0.0) {
            System.out.println(((Float) obj).floatValue());
        }
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Introduce Parameter,compile error,"1. Select ""subject.getSubject2().getVal()"" from the if-statement
2. Use Extract Parameter refactoring
3. Select ""Replace all occurences""",,"public class A {
    private void test() {
        TestSubject subject = new TestSubject();
        boolean flag = false;

        if (subject.getSubject2().getVal() != flag) {
            System.out.println(subject.getSubject2().getVal());
        }
    }

    public static class TestSubject {
        public TestSubject2 getSubject2() {
            return new TestSubject2();
        }
    }

    public static class TestSubject2 {
        public boolean getVal() {
            return true;
        }
    }
}",-,"public class A {
    private void test() {
        test(subject.getSubject2().getVal());
    }

    private void test(boolean val) {
        TestSubject subject = new TestSubject();
        boolean flag = false;
        if (val != flag) {
            System.out.println(val);
        }
    }

    public static class TestSubject {
        public TestSubject2 getSubject2() {
            return new TestSubject2();
        }
    }

    public static class TestSubject2 {
        public boolean getVal() {
            return true;
        }
    }
}"
IDEA,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Introduce Parameter,compile error,"1. Select ""subject.getSubject2().getVal()"" from the if-statement
2. Use Extract Parameter refactoring
3. Select ""Replace all occurences""
4. ctrl+alt+p, choose delegate through overloading method",,"public class A {
    private void test() {
        TestSubject subject = new TestSubject();
        boolean flag = false;

        if (subject.getSubject2().getVal() != flag) {
            System.out.println(subject.getSubject2().getVal());
        }
    }

    public static class TestSubject {
        public TestSubject2 getSubject2() {
            return new TestSubject2();
        }
    }

    public static class TestSubject2 {
        public boolean getVal() {
            return true;
        }
    }
}",-,"public class A {
    private void test() {
        test(subject.getSubject2().getVal());
    }

    private void test(boolean val) {
        TestSubject subject = new TestSubject();
        boolean flag = false;

        if (val != flag) {
            System.out.println(val);
        }
    }

    public static class TestSubject {
        public TestSubject2 getSubject2() {
            return new TestSubject2();
        }
    }

    public static class TestSubject2 {
        public boolean getVal() {
            return true;
        }
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Introduc Variable,compile error,"extracting variable for ""text.length() - 1""",,"public class A {
    public void doTest() {
        String text = ""xxx"";
        Runnable runnable = () -> A.this.toVoid(text.length() - 1);
    }

    private void toVoid(Object o) {
    }
}","public class A {
    public void doTest() {
        String text = ""xxx"";
        Runnable runnable = () -> {
                        int o = text.length() - 1;
                        A.this.toVoid(o);
                };
    }

    private void toVoid(Object o) {
    }
}","public class A {
    public void doTest() {
        String text = ""xxx"";
        Runnable runnable = () -> A.this.toVoid(name);
    }

    private void toVoid(Object o) {
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Introduc Variable,compile error,extract method.getReturnType() and have it replace both occurrences,,"import java.lang.reflect.Method;
import java.util.Collection;
import java.util.Map;
import java.util.stream.Collectors;
import java.util.stream.Stream;

public class A {
    public void foo(Class<?> cls)
    {
        Stream.of(cls.getMethods())
                .filter(method ->
                        Collection.class.isAssignableFrom(
                                method.getReturnType())
                                || Map.class.isAssignableFrom(method.getReturnType()))
                .collect(Collectors.<Method>toList());
    }
}","import java.lang.reflect.Method;
import java.util.Collection;
import java.util.Map;
import java.util.stream.Collectors;
import java.util.stream.Stream;

public class A {
    public void foo(Class<?> cls)
    {
        Stream.of(cls.getMethods())
                .filter(method ->
                        {
							Class<?> returnType = method.getReturnType();
							return Collection.class.isAssignableFrom(
							        returnType)
							        || Map.class.isAssignableFrom(returnType);
						})
                .collect(Collectors.<Method>toList());
    }
}","import java.lang.reflect.Method;
import java.util.Collection;
import java.util.Map;
import java.util.stream.Collectors;
import java.util.stream.Stream;

public class A {
    public void foo(Class<?> cls)
    {
        Stream.of(cls.getMethods())
                .filter(method ->
                        Collection.class.isAssignableFrom(returnType)
                                || Map.class.isAssignableFrom(returnType))
                .collect(Collectors.<Method>toList());
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Introduc Variable,compile error,extract the string constant from the following code,,"public class A {
    void foo() {
        Runnable r = () -> System.out.println(""extract me"");
    }
}","public class A {
    void foo() {
        Runnable r = () -> {
			String x = ""extract me"";
			System.out.println(x);
		};
    }
}","public class A {
    void foo() {
        Runnable r = () -> System.out.println(x);
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Introduc Variable,compile error,"Extract a variable from f.getName().endsWith("".java"")",,"import java.io.FileFilter;

public class A {
    public void foo() {
        FileFilter java = f -> f.getName().endsWith("".java"");
    }
}","import java.io.FileFilter;

public class A {
    public void foo() {
        FileFilter java = f -> {
			boolean endsWith = f.getName().endsWith("".java"");
			return endsWith;
		};
    }
}","import java.io.FileFilter;

public class A {
    public void foo() {
        FileFilter java = f -> endsWith;
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Introduc Variable,compile error,introduce variable for ints[i] and replace all occurances,,"public class A {
    public void foo(int[] ints) {
        int length = 10;
        for (int i = 0; i < length && ints[i] > 0; i++) {
            System.out.println(ints[i]);
            System.out.println(ints[i]);
            System.out.println(ints[i]);
        }
    }
}","public class A {
    public void foo(int[] ints) {
        int length = 10;
        for (int i = 0; i < length && ints[i] > 0; i++) {
            int x = ints[i];
			System.out.println(x);
            System.out.println(x);
            System.out.println(x);
        }
    }
}","public class A {
    public void foo(int[] ints) {
        int length = 10;
        final int x = ints[i];
        for (int i = 0; i < length && x > 0; i++) {
            System.out.println(x);
            System.out.println(x);
            System.out.println(x);
        }
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Move Method,compile error,move refactoring for method beep() in Class A,,"public class A {
    B b = new B();

    void beep() {}

    public static void main(String[] args) {
        A flim = new A();
        flim.beep();
    }
}
public class B {
}","public class A {
    B b = new B();

    public static void main(String[] args) {
        A flim = new A();
        flim.b.beep();
    }
}
public class B {

        void beep() {}

}","public class A {
    B b = new B();


    public static void main(String[] args) {
        A flim = new A();
        b.beep();
    }
}
public class B {

    void beep() {
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Move Method,compile error,move refactoring for method doSomething() in Class A to Interface MyInterface,,"public class A {
    private MyInterface myInterface;

    public void doSomething() {
    }

    public void callDoSomething() {
        doSomething();
    }
}
public interface MyInterface {

}
public class B implements MyInterface{

}","public class A {
    private MyInterface myInterface;

    public void callDoSomething() {
        myInterface.doSomething();
    }
}
public interface MyInterface {

	default void doSomething() {
	}

}
public class B implements MyInterface{

}","public class A {
    private MyInterface myInterface;


    public void callDoSomething() {
        myInterface.doSomething();
    }
}
public interface MyInterface {

    public void doSomething() {
    }
    
}
public class B implements MyInterface{

}"
IDEA,Eclipse,"Eclipse IDE for Enterprise Java and Web Developers (includes Incubating components)

Version: 2024-03 (4.31.0)
Build id: 20240307-1437
",Oracle OpenJDK 22.0.1,Move Method,compile error,move refactoring for method notNull(),,"import java.util.ArrayList;

import static java.util.stream.Collectors.toList;

public class A {
    private static class Destination{ }

    private final Destination destination = new Destination();

    public void main(){
        new ArrayList<String>().stream().filter(this::notNull).collect(toList());
    }

    private boolean notNull(String it) {
        return it != null;
    }
}","import java.util.ArrayList;

import static java.util.stream.Collectors.toList;

public class A {
    private static class Destination{
        private boolean notNull(String it) {
            return it != null;
        }
    }

    private final Destination destination = new Destination();

    public void main(){
        new ArrayList<String>().stream().filter(destination::notNull).collect(toList());
    }

}","import java.util.ArrayList;

import static java.util.stream.Collectors.toList;

public class A {
    private static class Destination{

                boolean notNull(String it) {
                    return it != null;
                } }

    private final Destination destination = new Destination();

    public void main(){
        new ArrayList<String>().stream().filter(this::notNull).collect(toList());
    }
}"
IDEA,Eclipse,"Eclipse IDE for Enterprise Java and Web Developers (includes Incubating components)

Version: 2024-03 (4.31.0)
Build id: 20240307-1437
",Oracle OpenJDK 22.0.1,Move Method,behavior change,move refactoring for important() and truth in class C to B,https://github.com/eclipse-jdt/eclipse.jdt.ui/issues/1530,"public class A {
    static boolean truth = true;
    static void important() {
        System.out.println(1);
    }
}
public class B extends A{
    B() {
        important();
        System.out.println(truth);
    }
}
public class C{
    static boolean truth = false;
    static void important() {
        System.out.println(2);
    }
}",warning message,"public class A {
    static boolean truth = true;
    static void important() {
        System.out.println(1);
    }
}
public class B extends A{
    static boolean truth = false;

        B() {
        important();
        System.out.println(truth);
    }

        static void important() {
            System.out.println(2);
        }
}
public class C{
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Move Method,behavior change,move refactoring for important() and truth in class C to B,,"public class A {
    static boolean truth = true;
    static void important() {
        System.out.println(1);
    }
}
public class B extends A{
    B() {
        important();
        System.out.println(truth);
    }
}
public class C{
    static boolean truth = false;
    static void important() {
        System.out.println(2);
    }
}",warning message,"public class A {
    static boolean truth = true;
    static void important() {
        System.out.println(1);
    }
}
public class B extends A{
    static boolean truth = false;

	B() {
        important();
        System.out.println(truth);
    }

	static void important() {
	    System.out.println(2);
	}
}
public class C{
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Change Mehtod Parameter,behavior change,Change signature: String... -> String[],,"public class A {
    public static void doSomething(int x, String... args) {
    
    }
    
    public static void main(String[] args) {
        doSomething(0, ""foo"", ""bar"");
        doSomething(0, new String[]{""one"", ""two""});
    }
}",-,"public class A {
    public static void doSomething(int x, String... args) {
    
    }
    
    public static void main(String[] args) {
        doSomething(0, ""foo"");
        doSomething(0, new String[]{""one"", ""two""});
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Change Mehtod Parameter,comment related,"delete the second parameter by change method parameter,
check update the javadoc, but the javadoc not updated",,"public class A {
    public void abc(Integer arg1, String arg2, Integer arg3) {}

    /** {@link #abc(Integer, String, Integer)} */
    public void def() {}
}","public class A {
    public void abc(Integer arg1, Integer arg3) {}

    /** {@link #abc(Integer, Integer)} */
    public void def() {}
}","public class A {
    public void abc(Integer arg1, Integer arg3) {}

    /** {@link #abc(Integer, String, Integer)} */
    public void def() {}
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Change Mehtod Parameter,comment related,"change the type of the first parameter type by change method parameter,
check update the javadoc, but the javadoc not updated",,"import java.util.Collection;
import java.util.List;
import java.util.ArrayList;

public class A {
    public void foo(List<String> dates, Collection<String> timeUnits) {

    }

    /**
     * ... use {@link #foo(java.util.List, java.util.Collection)} as ...
     */
    public void bar() {

    }
}","import java.util.Collection;
import java.util.List;
import java.util.ArrayList;

public class A {
    public void foo(ArrayList<String> dates, Collection<String> timeUnits) {

    }

    /**
     * ... use {@link #foo(java.util.ArrayList, java.util.Collection)} as ...
     */
    public void bar() {

    }
}","import java.util.Collection;
import java.util.List;
import java.util.ArrayList;

public class A {
    public void foo(ArrayList<String> dates, Collection<String> timeUnits) {

    }

    /**
     * ... use {@link #foo(java.util.List, java.util.Collection)} as ...
     */
    public void bar() {

    }
}"
IDEA,Eclipse,"Eclipse IDE for Enterprise Java and Web Developers (includes Incubating components)

Version: 2024-03 (4.31.0)
Build id: 20240307-1437
",Oracle OpenJDK 22.0.1,Change Mehtod Parameter,redundant change,"change the visibility of class A method gettype to package level, 
in class B, the anotation is moved from top to the prefix of method.
other operation is good.",,"import java.util.List;

public class A<T extends List> {
        
    protected T getType() {
        return null;
    }
}
import java.util.ArrayList;

public class B extends A<ArrayList> {
        
    @Override
    protected ArrayList getType() {
        return super.getType();
    }
}",-,"import java.util.ArrayList;

public class B extends A<ArrayList> {
        
    @Override ArrayList getType() {
        return super.getType();
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Change Mehtod Parameter,compile error,"change the visibility of class B method to private, reducing compile error",,"import java.util.List;

public class A<T extends List> {
	
    protected T getType() {
        return null;
    }
}
import java.util.ArrayList;

public class B extends A<ArrayList> {
	
    @Override
    protected ArrayList getType() {
        return super.getType();
    }
}",warning message,"import java.util.List;

public class A<T extends List> {
    private T getType() {
        return null;
    }
}
import java.util.ArrayList;

public class B extends A<ArrayList> {
    @Override
    private ArrayList getType() {
        return super.getType();
    }
}"
IDEA,Eclipse,"Eclipse IDE for Enterprise Java and Web Developers (includes Incubating components)

Version: 2024-03 (4.31.0)
Build id: 20240307-1437
",Oracle OpenJDK 22.0.1,Change Mehtod Parameter,compile error,add Exception for class A constructor,,"public class A {
    public A(String name){
    }
}
public class B extends A {
    public B(String name) {
        super(name);
    }
}",-,"public class A {
    public A(String name) throws Exception{
    }
}
public class B extends A {
    public B(String name) {
        super(name);
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Change Mehtod Parameter,compile error,add one parameter for method alwaysTrue(),,"import java.util.ArrayList;
import java.util.List;
import java.util.function.Predicate;

public class A {
    public static void print() {
        List<Integer> someNumbers = A.returnAllNumbers(A::alwaysTrue);
    }

    private static List<Integer> returnAllNumbers(Predicate<Integer> predicate) {
        return new ArrayList<>();
    }

    public static boolean alwaysTrue(int a) {
        return true;
    }
}",warning message,"import java.util.ArrayList;
import java.util.List;
import java.util.function.Predicate;

public class A {
    public static void print() {
        List<Integer> someNumbers = A.returnAllNumbers(A::alwaysTrue);
    }

    private static List<Integer> returnAllNumbers(Predicate<Integer> predicate) {
        return new ArrayList<>();
    }

    public static boolean alwaysTrue(int a, int b) {
        return true;
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Change Mehtod Parameter,incorrect warning message,add annotation before the return type of method foo,,"import java.lang.annotation.ElementType;
import java.lang.annotation.Target;

@Target({ElementType.METHOD, ElementType.FIELD, ElementType.TYPE, ElementType.PACKAGE, ElementType.TYPE_USE, ElementType.PARAMETER, ElementType.CONSTRUCTOR, ElementType.LOCAL_VARIABLE})
public @interface Sample {}
public class A {
    public String foo() { return null; }
}
",-,wrong warning message
IDEA,IDEA,"ntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Change Mehtod Parameter,compile error,remove the second parameter for method lambda,,"public class A {
    static class Param { }

    static class Receiver {
        public void receive(LambdaInterface pInterface) {
            pInterface.lambda(new Param(), new Param());
        }
    }

    interface LambdaInterface {
        void lambda(Param param1, Param param2);
    }

    public static void main(String[] args) {
        new Receiver().receive((param1, param2) -> {
            System.out.println(""param1 = "" + param1);
            System.out.println(""param2 = "" + param2);
        });
    }
}",warning message,"public class A {
    static class Param { }

    static class Receiver {
        public void receive(LambdaInterface pInterface) {
            pInterface.lambda(new Param());
        }
    }

    interface LambdaInterface {
        void lambda(Param param1);
    }

    public static void main(String[] args) {
        new Receiver().receive((param1) -> {
            System.out.println(""param1 = "" + param1);
            System.out.println(""param2 = "" + param2);
        });
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Change Mehtod Parameter,compile error,remove the second parameter for method lambda,,"public class A {
    static class Param { }

    static class Receiver {
        public void receive(LambdaInterface pInterface) {
            pInterface.lambda(new Param(), new Param());
        }
    }

    interface LambdaInterface {
        void lambda(Param param1, Param param2);
    }

    public static void main(String[] args) {
        new Receiver().receive((param1, param2) -> {
            System.out.println(""param1 = "" + param1);
            System.out.println(""param2 = "" + param2);
        });
    }
}",warning message,"public class A {
    static class Param { }

    static class Receiver {
        public void receive(LambdaInterface pInterface) {
            pInterface.lambda(new Param());
        }
    }

    interface LambdaInterface {
        void lambda(Param param1);
    }

    public static void main(String[] args) {
        new Receiver().receive((param1) -> {
            System.out.println(""param1 = "" + param1);
            System.out.println(""param2 = "" + param2);
        });
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Inline Variable,compile error,inline variable for iii,,"public class A {
    private void computeIndex(boolean flag) {
        Integer iii = flag ? 1 : 2;
        iii.byteValue();
    }
}","public class A {

    private void computeIndex(boolean flag) {
        ((Integer) (flag ? 1 : 2)).byteValue();
    }
}","public class A {
    private void computeIndex(boolean flag) {
        (flag ? 1 : 2).byteValue();
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Inline Variable,incorrect warning message,inline for variable has,,"public class A {
    static boolean isA() {
        return true;
    }

    static boolean isB() {
        return true;
    }

    private static void foo(final boolean explicit) {
        boolean has = explicit ? isA() : isB();
        if (has) {
        }
    }
}",-,-
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Inline Variable,incorrect warning message,inline variable for hello,,"public class A {
    public static void main(String[] args) {
        String hello = new String(""hello"");
        Runnable x = () -> {
            System.out.println(hello);
        }; 
    }
}",-,-
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Inline Variable,incorrect warning message,inline variable for hello,,"public class A {
    public static void main(String[] args) {
        Runnable x = () -> {
            String hello = new String(""hello"");
            System.out.println(hello);
        };
    }
}",-,-
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Inline Variable,compile error,inline variable for t,,"public class A {
    public static void main(String[] args) {
        Task t = () -> System.out.println(""hello"");
        Runnable r = t::doit;
    }
}

interface Task  {
    void doit();
}","public class A {
    public static void main(String[] args) {
        Runnable r = ((Task) () -> System.out.println(""hello""))::doit;
    }
}

interface Task  {
    void doit();
}","public class A {
    public static void main(String[] args) {
        Runnable r = (() -> System.out.println(""hello""))::doit;
    }
}

interface Task  {
    void doit();
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Inline Variable,compile error,inline variable for java,,"import java.io.FileFilter;

public class A {
    void asd() {
        FileFilter java = f -> f.getName().endsWith("".java"");
        java.getClass();
    }
}","import java.io.FileFilter;

public class A {
    void asd() {
        ((FileFilter) f -> f.getName().endsWith("".java"")).getClass();
    }
}","import java.io.FileFilter;

public class A {
    void asd() {
        (f -> f.getName().endsWith("".java"")).getClass();
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Inline Variable,compile error,inline variable for a or b,,"public class A {
    interface X {}
    interface Y {}

    class C implements X, Y {}

    void print(X a) {
        System.out.println(a);
    }

    void print(Y a) {
        System.out.println(a);
    }

    void test() {
        C one = new C();
        X a = one;
        Y b = one;

        print(a); // inline a
        print(b); // inline b
    }
}","public class A {
    interface X {}
    interface Y {}

    class C implements X, Y {}

    void print(X a) {
        System.out.println(a);
    }

    void print(Y a) {
        System.out.println(a);
    }

    void test() {
        C one = new C();
        print((X) one); // inline a
        print((Y) one); // inline b
    }
}","public class A {
    interface X {}
    interface Y {}

    class C implements X, Y {}

    void print(X a) {
        System.out.println(a);
    }

    void print(Y a) {
        System.out.println(a);
    }

    void test() {
        C one = new C();
        Y b = one;

        print(one); // inline a
        print(b); // inline b
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Inline Variable,compile error,inline variable for args,,"public class A {
    private static void call(Vector args_) {
        Vector<String> args = args_;

        String s = args.get(0);
    }
}

interface Vector<M> {
    M get(int i);
}","public class A {
    private static void call(Vector args_) {
        String s = ((Vector<String>) args_).get(0);
    }
}

interface Vector<M> {
    M get(int i);
}","public class A {
    private static void call(Vector args_) {

        String s = args_.get(0);
    }
}

interface Vector<M> {
    M get(int i);
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Inline Variable,compile error,inline variable for foo,,"public class A {
    public void bar() {
        A foo = this;

        new Object() {
            public void run() {
                foo.baz(); // inline 'foo' variable
            }
        };
    }

    public void baz() {
    }
}","public class A {
    public void bar() {

        new Object() {
            public void run() {
                A.this.baz(); // inline 'foo' variable
            }
        };
    }

    public void baz() {
    }
}","public class A {
    public void bar() {

        new Object() {
            public void run() {
                this.baz(); // inline 'foo' variable
            }
        };
    }

    public void baz() {
    }
}"
IDEA,Eclipse,"Eclipse IDE for Enterprise Java and Web Developers (includes Incubating components)

Version: 2024-03 (4.31.0)
Build id: 20240307-1437
",Oracle OpenJDK 22.0.1,Rename method,compile error,"rename length, valueOf, and values",https://github.com/eclipse-jdt/eclipse.jdt.ui/issues/1531,"public class A {
    {
        int length = new String[0].length;
    }
    enum M {
        ;
        {
            M.valueOf("""");
        }
    }
    enum S {
        ;
        {
            S.values();
        }
    }
}",warning message,-
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Rename method,Exception,"rename valueOf, and values",,"public class A {
    enum M {
        ;
        {
            M.valueOf("""");
        }
    }
    enum S {
        ;
        {
            S.values();
        }
    }
}",warning message,Exception
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Rename method,compile error,rename foo to foo1,,"public class A<T> {
    void foo(T t) {
    }

    void foo1(Object t) {
    }
}",warning message,"public class A<T> {
    void foo1(T t) {
    }

    void foo1(Object t) {
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Rename method,behavior change,rename foo1 to foo2,,"public class A {
    static void foo1(Number n) {
        System.out.println(""1"");
    }
    static void foo2(Long i) {
        System.out.println(""2"");
    }
    public static void main(String[] args) {
        long n = 0;
        foo1(n);// rename foo1 to foo2
    }
}",warning message,"public class A {
    static void foo2(Number n) {
        System.out.println(""1"");
    }
    static void foo2(Long i) {
        System.out.println(""2"");
    }
    public static void main(String[] args) {
        long n = 0;
        foo2(n);// rename foo1 to foo2
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Pull up,Exception,pull up height to interface,,"public class A {
    interface I {}
    public record Rectangle(double width, double height) implements I {
        public double area() {
            return width * height;
        }

        public double perimeter() {
            return 2 * (width + height);
        }
    }

    public static void main(String[] args) {
        Rectangle rectangle = new Rectangle(3.0, 4.0);
        System.out.println(""Width: "" + rectangle.width());
        System.out.println(""Height: "" + rectangle.height());
        System.out.println(""Area: "" + rectangle.area());
        System.out.println(""Perimeter: "" + rectangle.perimeter());
    }
}",-,Exception
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Pull up,compile error,pull up employee into interface,,"public class A {
    interface I{}
    class Manager implements I{
        public Employee employee;

//        public void manage() {
//            System.out.println(""Managing "" + employee.getName());
//        }
    }

    class Employee implements I{
        private String name;

        public String getName() {
            return name;
        }
    }
}",-,"public class A {
    interface I{

        public Employee employee;
//        public void manage() {
//            System.out.println(""Managing "" + employee.getName());
//        }
    }
    class Manager implements I{
    }

    class Employee implements I{
        private String name;

        public String getName() {
            return name;
        }
    }
}"
IDEA,IDEA,"ntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Pull up,compile error,pull m or n up,https://youtrack.jetbrains.com/issue/IDEA-354991/Pull-method-up-and-make-method-abstract-result-in-refactored-program-contains-syntax-error,"public class A {

}
public class B extends A {
    public void m() {} // pull m up and make abstract

    void n() { // or pull n up and make abstract
        new A();
    }
}",-,"public abstract class A {

    public abstract void m() // pull m up and make abstract
    ;
}
public class B extends A {
    @Override
    public void m() {} // pull m up and make abstract

    void n() { // or pull n up and make abstract
        new A();
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Pull up,compile error,pull m or n up,,"public class A {

}
public class B extends A {
    public void m() {} // pull m up and make abstract

    void n() { // or pull n up and make abstract
        new A();
    }
}",-,"public abstract class A {

    public abstract void m() // pull m up and make abstract
    ;
}
public class B extends A {
    @Override
    public void m() {} // pull m up and make abstract

    void n() { // or pull n up and make abstract
        new A();
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Pull up,compile error,pull foo up to class A,,"public class A {

}

import java.util.HashMap;
import java.util.Map;

class B extends A {
    void foo() {
        HM<String, String> hm = new HM<>();
        for (Map.Entry<String, String> stringStringEntry : hm.entrySet()) {}
    }
    private static class HM<K, V> extends HashMap<K, V> {}
}",-,"public class A {

    void foo() {
        B.HM<String, String> hm = new B.HM<>();
        for (Map.Entry<String, String> stringStringEntry : hm.entrySet()) {
        }
    }
    
}
import java.util.HashMap;
import java.util.Map;

class B extends A {
    private static class HM<K, V> extends HashMap<K, V> {}
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Pull up,compile error,pull implements Collection up,,"import java.util.Collection;

public class A {
    static abstract class A1 implements Collection<String> { }

    static abstract class B1 extends A1 implements Collection<String> { }
}",-,"import java.util.Collection;

public class A {
    static abstract class A1 implements Collection<String>, Collection { }

    static abstract class B1 extends A1 { }
}"
IDEA,Eclipse,"Eclipse IDE for Enterprise Java and Web Developers (includes Incubating components)

Version: 2024-03 (4.31.0)
Build id: 20240307-1437
",Oracle OpenJDK 22.0.1,Pull up,compile error,pull foo up to Base,https://github.com/eclipse-jdt/eclipse.jdt.ui/issues/1532,"public class A {
    public interface Bar<T> { }

    public interface Base<T> { }

    public class Foo<T,U> implements Base<U> {
        public void foo(Bar<U> bar) { }
    }
}",-,"public class A {
    public interface Bar<T> { }

    public interface Base<T> {

		void foo(Bar<U> bar); }

    public class Foo<T,U> implements Base<U> {
        @Override
		public void foo(Bar<U> bar) { }
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Pull up,fail to refactoring,pull foo up to Base,,"public class A {
    public class Base<T> { }

    public class Foo<T> extends Base<T> {
        public void foo() { }
    }
}",-,-
IDEA,Eclipse,"Eclipse IDE for Enterprise Java and Web Developers (includes Incubating components)

Version: 2024-03 (4.31.0)
Build id: 20240307-1437
",Oracle OpenJDK 22.0.1,Pull up,redundant change,pull foo up to Base,,"public class A {
    public class Base<T> { }

    public class Foo<T> extends Base<T> {
        public void foo() { }
    }
}",-,"public class A {
    public class Base<T> {

                public void foo() { } }

    public class Foo<T> extends Base<T> {
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Pull up,compile error,pull up foo(),,"public class A {
    public interface JSam {
        void bar(String p);
    }

    interface JsamImpl extends JSam {
        void foo();
    }

    class User {
        void test() {
            JSam jSam = (String p) -> {};

            (new JSam() {
                public void bar(String p) {}
            }).bar("""");
        }
    }
}",-,"public class A {
    public interface JSam {
        void bar(String p);

        void foo();
    }

    interface JsamImpl extends JSam {
    }

    class User {
        void test() {
            JSam jSam = (String p) -> {};

            (new JSam() {
                public void bar(String p) {}
            }).bar("""");
        }
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,pull up,incorrect warning message,push down bar(),,"public class A {
    public interface JSam {
        void bar(String p);
    }

    interface JsamImpl extends JSam {
        void foo();
    }

    class User {
        void test() {
            JSam jSam = (String p) -> {};

            (new JSam() {
                public void bar(String p) {}
            }).bar("""");
        }
    }
}",-,"public class A {
    public interface JSam {
        void bar(String p);

        void foo();
    }

    interface JsamImpl extends JSam {
    }

    class User {
        void test() {
            JSam jSam = (String p) -> {};

            (new JSam() {
                public void bar(String p) {}
            }).bar("""");
        }
    }
}"
IDEA,Eclipse,"Eclipse IDE for Enterprise Java and Web Developers (includes Incubating components)

Version: 2024-03 (4.31.0)
Build id: 20240307-1437
",Oracle OpenJDK 22.0.1,Pull up,compile error,pull innerMethod() up,https://github.com/eclipse-jdt/eclipse.jdt.ui/issues/1533,"public class A {
    public class BaseInner {}

    public class Outer {
        public int x = 0;
        public void foo(){};

        public class Inner extends BaseInner {
            void innerMethod() { // PULL this method UP
                System.out.println(Outer.this.x);
                Outer.this.foo();
            }
        }
    }
}",-,"import com.concordia.my.retester.A.Outer.Inner;

public class A {
    public class BaseInner {

                void innerMethod(Inner inner) { // PULL this method UP
                    System.out.println(inner.x);
                    inner.foo();
                }}

    public class Outer {
        public int x = 0;
        public void foo(){};

        public class Inner extends BaseInner {
        }
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Pull up,compile error,pull innerMethod() up,,"public class A {
    public class BaseInner {}

    public class Outer {
        public int x = 0;
        public void foo(){};

        public class Inner extends BaseInner {
            void innerMethod() { // PULL this method UP
                System.out.println(Outer.this.x);
                Outer.this.foo();
            }
        }
    }
}",-,"public class A {
    public class BaseInner {

        void innerMethod() {
            // PULL this method UP
            System.out.println(Outer.this.x);
            Outer.this.foo();
        }
    }

    public class Outer {
        public int x = 0;
        public void foo(){};

        public class Inner extends BaseInner {
        }
    }
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Introduce Constant,compile error,Introduce constant for StaticInner.STRING in getString(),,"public class A {
    class ExtractConstantBefore {

        public String getString() {
            return StaticInner.STRING;
        }

        static class StaticInner {
            public static String STRING = ""aaaa"";
        }
    }
}","public class A {
    class ExtractConstantBefore {

        private static final String S_TRING = StaticInner.STRING;

		public String getString() {
            return S_TRING;
        }

        static class StaticInner {
            public static String STRING = ""aaaa"";
        }
    }
}","public class A {
    class ExtractConstantBefore {

        public String getString() {
            return STRING;
        }

        static class StaticInner {
            public static String STRING = ""aaaa"";
        }
    }
    private static final String STRING = StaticInner.STRING;
}"
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Introduce Constant,compile error,"Introduce constant for ""all"" and replace all occurances",,"public class A {
    @SuppressWarnings(value= {""all"", ""rawtypes""})
    public class SomeClass {

        public String getModelName() {
            return ""all"";
        }
    }

    @interface Model {
        Usage usages();
    }
    @interface Usage {
        String value();
    }
}",-,"public class A {
    @SuppressWarnings(value= {ALL, ""rawtypes""})
    public class SomeClass {

        private static final String ALL = ""all"";

        public String getModelName() {
            return ALL;
        }
    }

    @interface Model {
        Usage usages();
    }
    @interface Usage {
        String value();
    }
}"
IDEA,Eclipse,"Eclipse IDE for Enterprise Java and Web Developers (includes Incubating components)

Version: 2024-03 (4.31.0)
Build id: 20240307-1437
",Oracle OpenJDK 22.0.1,Introduce Constant,Fail to refactoring,"Introduce constant for ""all"" and replace all occurances, 
select the first and te second have different result",,"public class A {
    @SuppressWarnings(value= {""all"", ""rawtypes""})
    public class SomeClass {

        public String getModelName() {
            return ""all"";
        }
    }

    @interface Model {
        Usage usages();
    }
    @interface Usage {
        String value();
    }
}",-,"public class A {
	@SuppressWarnings(value= {""all"", ""rawtypes""})
    public class SomeClass {

        private static final String ALL = ""all"";

		public String getModelName() {
            return ALL;
        }
    }

    @interface Model {
        Usage usages();
    }
    @interface Usage {
        String value();
    }
}"
IDEA,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Introduce Constant,Fail to refactoring,"Introduce constant for ""all"", there are no options for replace all occurances",,"public class A {

    @SuppressWarnings(value= {""all"", ""rawtypes""})
    public class SomeClass {

        public String getModelName() {
            return ""all"";
        }

        public String getModelName1() {
            return ""all"";
        }
    }
    
}",-,-
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Introduce Variable,Fail to refactoring,"Introduce constant for ""all"", input everything, press refactor, nothing happens",,"public class A {
    public interface Test { 
        @SuppressWarnings(value= {""all"", ""rawtypes""})  
        void test();
    }
}",-,-
IDEA,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Move Class,incorrect warning message,"move class A to B, undo, show can't undo but actually already undo",,"public class A {

  class Inner {
  }
  Inner i;
}
class B{

    
}",-,-
NetBeans,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Introduce Vriable,compile error,perform introduce variable on a,,"public class A {
    public void method() {
        int a;
        if (true) {
            // select ""a"" to introduce variable
            a = 3;
        }
    }
}",,"public class A {
    public void method() {
        int a;
        if (true) {
            // select ""a"" to introduce variable
            int a1 = a;
            a1 = 3;
        }
    }
}"
NetBeans,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Introduce Vriable,behavior change,extract variable: arrs[a],,"public class A {
    public void test() {
        int[] arrs = {1,2,3};
        int a = 0;
        // extract variable: arrs[a]
        System.out.println(arrs[a]);
        a++;
        System.out.println(arrs[a]);
        a++;
        System.out.println(arrs[a]);
    }
}",-,"public class A {
    public void test() {
        int[] arrs = {1,2,3};
        int a = 0;
        // extract variable: arrs[a]
        int arr = arrs[a];
        System.out.println(arr);
        a++;
        System.out.println(arr);
        a++;
        System.out.println(arr);
    }
}"
NetBeans,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Introduce Vriable,compile error,"select super, extract local variable",,"public class A {
    public void f() {}
}
public class B extends A {
    public void c() {
        // extract local variable: super
        super.f();
    }
}",-,"public class B extends A {
    public void c() {
        // extract local variable: super
        A a = super;
        a.f();
    }
}"
NetBeans,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Introduce Vriable,compile error,"extract variable: 5, rename ""localVar""",,"public class A {
    public void method(int localVar) {
        // extract variable: 5, rename ""localVar""
        System.out.println(5);
    }
}",-,"public class A {
    public void method(int localVar) {
        // extract variable: 5, rename ""localVar""
        int localVar = 5;
        System.out.println(localVar);
    }
}"
NetBeans,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Extract Method,compile error,"When I select the statement ""this. value=value;"" and perform the extract method refactoring, the new method name is ""newMethod"" and I click ""OK"", a syntax compilation error occurs",,"public class A {
    private final int value;
    public A(int value) {
        // extract method
        this.value = value;
    }

}",-,"public class A {
    private final int value;
    public A(int value) {
        // extract method
        value = getValue(value);
    }

    private int getValue(int value) {
        final int value;
        this.value = value;
        return value;
    }

}"
NetBeans,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Inline Method,compile error,"When I select "" inlineMethod() "" and perform the inline method refactoring, and i click ""OK"", a syntax error occurs",,"public class A {
    public void main() {
        class T {
            public T() {}
        }
        inlineMethod();
    }
    // inline method
    public void inlineMethod() {
        class T {
            T t;
            public T() {}
        }
    }

}",-,"public class A {
    public void main() {
        class T {
            public T() {}
        }
        class T {
            T t;
            public T() {}
        }
    }
    // inline method

}"
NetBeans,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Inline Method,compile error,"When I select ""originalMethod()"" and perform the inline method refactoring, and i click ""OK"", a syntax compilation error occurs",,"import java.io.IOException;

public class A {
    public void originalMethod() throws IOException {

    }
}
import java.io.IOException;

public class B {
    public void callerMethod(){
        A obj = new A();
        try {
            // inline method ""originalMethod()""
            obj.originalMethod();
        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}",-,"public class A {
}
import java.io.IOException;

public class B {
    public void callerMethod(){
        A obj = new A();
        try {
            // inline method ""originalMethod()""

        } catch (IOException e) {
            e.printStackTrace();
        }
    }
}"
NetBeans,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Move Method,compile error,"When I select ""moveMethod()"" and perform the move method refactoring, and i click ""OK"", a syntax error",,"public class A {
    private MyInterface target;
    public A(MyInterface target) {
        this.target = target;
    }
    // move method
    public void moveMethod(MyInterface parameter) {
        ((MyInterface) target.abstractField).methodWithSameName();
    }
}
public interface MyInterface {
    Object abstractField = null;
    void methodWithSameName();
}",-,"public class A {
    private MyInterface target;
    public A(MyInterface target) {
        this.target = target;
    }
}
public interface MyInterface {
    Object abstractField = null;
    void methodWithSameName();

    // move method
    default void moveMethod(A a) {
        ((MyInterface) a.target.abstractField).methodWithSameName();
    }
}"
NetBeans,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Move Method,compile error,"When I select ""methodToMove()"" and perform the move method refactoring, move toTargetClass and i click ""OK"", a syntax error",,"public class A {
    MyInterface target;

    public A(MyInterface target) {
        this.target = target;
    }

    private final void methodToMove(MyInterface a) {
        // Method implementation
        this.target = a;
    }
}
public interface MyInterface {
    void methodInInterface();
}",-,"public class A {
    MyInterface target;

    public A(MyInterface target) {
        this.target = target;
    }

}
public interface MyInterface {
    void methodInInterface();

    default void methodToMove(MyInterface a, A a) {
        // Method implementation
        this = a;
    }
}"
NetBeans,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Move Method,compile error,"When I select ""m()"" and perform the move method refactoring, and i click ""OK"", a syntax error",,"public class A {
    public int m() {
        return 1;
    }
    public class C extends A {
        // move method to class B
        public int m(B b) {
            return super.m();
        }
    }
}
public class B {

}",-,"public class A {
    public int m() {
        return 1;
    }
    public class C extends A {
    }
}
public class B {

    // move method to class B
    public int m() {
        return super.m();
    }
}"
NetBeans,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Rename Method,behavior change,"When I select ""k()"" and perform the rename method refactoring, new naem ""m()"" and i click ""OK"", a syntax error",,"public class A {
    void m(Object m){
        System.out.println(""A"");
    }
}
public class B extends A {
    // rename k to m
    void k(String m){
        System.out.println(""B"");
    }
    void f(){
        m(""1"");
    }
}",-,"public class A {
    void m(Object m){
        System.out.println(""A"");
    }
}
public class B extends A {
    // rename k to m
    void m(String m){
        System.out.println(""B"");
    }
    void f(){
        m(""1"");
    }
}"
NetBeans,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Rename Method,compile error,rename method test,,"public interface MyInterface {
    public boolean test();
}
public class A implements MyInterface{

    @Override
    public boolean test() {
        return false;
    }
}",-,-
NetBeans,Eclipse,"Eclipse IDE for Enterprise Java and Web Developers (includes Incubating components)

Version: 2024-03 (4.31.0)
Build id: 20240307-1437
",Oracle OpenJDK 22.0.1,Pull up method,compile error,pull up method,,"public interface MyInterface {

}
public class A implements MyInterface {
    public static void method() {

    }
}",-,"public interface MyInterface {

	void method();

}
public class A implements MyInterface {
    @Override
	public static void method() {

    }
}"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Extract Constant,compile error,Extract constant for string literal in the annotation,,"import java.lang.annotation.ElementType;
import java.lang.annotation.Target;

@Target({ElementType.METHOD, ElementType.FIELD, ElementType.TYPE, ElementType.PACKAGE, ElementType.TYPE_USE, ElementType.PARAMETER, ElementType.CONSTRUCTOR, ElementType.LOCAL_VARIABLE})
public @interface Sample {
    String value();
}
@Sample(value = ""vvvv"")
public class A {
    
}","@Sample(value = A.ALL)
public class A {

    public static final String ALL = ""vvvv"";
}","@Sample(value = VVVV)
public class A {

    private static final String VVVV = ""vvvv"";
    
}"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Move Type to New File,compile error,Move Inner to Outer Level for class X,,"public class A {
    static class Bar {
        static class X {
            static void method() {
                var x = new X();
                System.out.println(x);
            }
        }
    }
}","public class A {
    static class Bar {
    }

    static class X {
        static void method() {
            var x = new X();
            System.out.println(x);
        }
    }
}","public class A {
    static class Bar {
    }

    class X {

        static void method() {
            com.mycompany.mavenproject22.A.X x = new X();
            System.out.println(x);
        }
    }
}"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Inline method,behavior change,"select originalMethod() 
click Refactor-inlinemethod",,"public class A {
    private boolean flag = false;
    public synchronized void originalMethod() throws InterruptedException {
        // Some logic here
        flag = true;
        notify();
    }

    public void callerMethod() throws InterruptedException {
        originalMethod() ;
    }
}",-,"public class A {
    private boolean flag = false;

    public void callerMethod() throws InterruptedException {
        // Some logic here
        flag = true;
        notify();
    }
}"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Extract Method,compile error,"Select the whole line ""yield ..."", extract method",,"public class A {
    public static void main(String[] args) {
        int dayOfWeek = 3; // Let's assume 1 = Monday, 2 = Tuesday, ..., 7 = Sunday

        String dayType = switch (dayOfWeek) {
            case 1, 2, 3, 4, 5 -> ""Weekday"";
            case 6, 7 -> ""Weekend"";
            default -> {
                yield ""Invalid day"";
            }
        };

        System.out.println(""Day type: "" + dayType);
    }
}",-,"public class A {
    public static void main(String[] args) {
        int dayOfWeek = 3; // Let's assume 1 = Monday, 2 = Tuesday, ..., 7 = Sunday

        String dayType = switch (dayOfWeek) {
            case 1, 2, 3, 4, 5 -> ""Weekday"";
            case 6, 7 -> ""Weekend"";
            default -> {
                aa();
            }
        };

        System.out.println(""Day type: "" + dayType);
    }

    private static void aa() {
        yield ""Invalid day"";
    }
}"
Eclipse,IDEA,"ntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Extract Method,compile error,"Select the whole line ""yield ..."", extract method",,"public class A {
    public static void main(String[] args) {
        int dayOfWeek = 3; // Let's assume 1 = Monday, 2 = Tuesday, ..., 7 = Sunday

        String dayType = switch (dayOfWeek) {
            case 1, 2, 3, 4, 5 -> ""Weekday"";
            case 6, 7 -> ""Weekend"";
            default -> {
                yield ""Invalid day"";
            }
        };

        System.out.println(""Day type: "" + dayType);
    }
}",-,"public class A {
    public static void main(String[] args) {
        int dayOfWeek = 3; // Let's assume 1 = Monday, 2 = Tuesday, ..., 7 = Sunday

        String dayType = switch (dayOfWeek) {
            case 1, 2, 3, 4, 5 -> ""Weekday"";
            case 6, 7 -> ""Weekend"";
            default -> {
                aa();
            }
        };

        System.out.println(""Day type: "" + dayType);
    }

    private static void aa() {
        yield ""Invalid day"";
    }
}"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Inline Method,Exception,Inline method format(),,"public class A {
    public static String format (String... input) {
        return """";
    }
    public static void main(String[] args) {
        int value = 0;
        String message = switch (value) {
            case 0 -> format("""");
            default -> """";
        };
    }
}",-,Exception
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Extract variable,behavior change,Extract variable for Lines[i] and replace 2 occurances,,"public class A {
        public static void main(String[] args) {
                String[] Lines = {""1"", ""2"", ""3"", ""4"", ""5"", ""6"", ""7"", ""8"", ""9""};
                int i = 0;
                System.out.println(Lines[i]);
                i++;
                System.out.println(Lines[i]);
        }
}",-,"public class A {
        public static void main(String[] args) {
                String[] Lines = {""1"", ""2"", ""3"", ""4"", ""5"", ""6"", ""7"", ""8"", ""9""};
                int i = 0;
                String line = Lines[i];
                System.out.println(line);
                i++;
                System.out.println(line);
        }
}"
Eclipse,IDEA,"ntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Extract variable,behavior change,Extract variable for Lines[i] and replace 2 occurances,https://youtrack.jetbrains.com/issue/IDEA-355421/Introduce-Variable-refactoring-changes-the-semantic-of-the-program-because-IDEA-does-not-identify-the-statements-that-may-change,"public class A {
        public static void main(String[] args) {
                String[] Lines = {""1"", ""2"", ""3"", ""4"", ""5"", ""6"", ""7"", ""8"", ""9""};
                int i = 0;
                System.out.println(Lines[i]);
                i++;
                System.out.println(Lines[i]);
        }
}",-,"public class A {
        public static void main(String[] args) {
                String[] Lines = {""1"", ""2"", ""3"", ""4"", ""5"", ""6"", ""7"", ""8"", ""9""};
                int i = 0;
                String line = Lines[i];
                System.out.println(line);
                i++;
                System.out.println(line);
        }
}"
Eclipse,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Extract variable,behavior change,"If we select expression txt.length() (line 4 in CS1), conduct refactoring ""extract local variable"",and name the new variable as length",-,"import java.util.Locale;

public class A {
    public String metaPhone(final String txt) {
        boolean hard = false;
        if (txt == null || txt.length() == 0) {
            return """";
        }
        if (txt.length() == 1) {
            return txt.toUpperCase(Locale.ENGLISH);
        }
        //Do other things
        // ...
        return """";
    }
}",-,"import java.util.Locale;

public class A {
    public String metaPhone(final String txt) {
        boolean hard = false;
            int length = txt.length();
            if (txt == null || length == 0) {
            return """";
        }
        if (txt.length() == 1) {
            return txt.toUpperCase(Locale.ENGLISH);
        }
        //Do other things
        // ...
        return """";
    }
}"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Extract variable,behavior change,"If we select expression txt.length() (line 4 in CS1), conduct refactoring ""extract local variable"",and name the new variable as length",,"import java.util.Locale;

public class A {
    public String metaPhone(final String txt) {
        boolean hard = false;
        if (txt == null || txt.length() == 0) {
            return """";
        }
        if (txt.length() == 1) {
            return txt.toUpperCase(Locale.ENGLISH);
        }
        //Do other things
        // ...
        return """";
    }
}",-,"import java.util.Locale;

public class A {
    public String metaPhone(final String txt) {
        boolean hard = false;
            int length = txt.length();
            if (txt == null || length == 0) {
            return """";
        }
        if (txt.length() == 1) {
            return txt.toUpperCase(Locale.ENGLISH);
        }
        //Do other things
        // ...
        return """";
    }
}"
Eclipse,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Extract variable,behavior change,"If we select the expression ((Integer)obj).intValue() (line 4 in CS1), and conduct refactoring ""extract local variable"",and name the new variable as value, we will get the following code snippet.If the method is called via foo(new Float(3.5)), the refactored version of the method would result in ClassCastException whereas the original version would not.",-,"public class A {
    void foo(Object obj) {
        if (obj instanceof Integer && ((Integer) obj).intValue() > 0) {
            System.out.println(((Integer) obj).intValue());
        } else if (obj instanceof Float && ((Float) obj).floatValue() > 0.0) {
            System.out.println(((Float) obj).floatValue());
        }
    }
}",-,"public class A {
    void foo(Object obj) {
        int intValue = ((Integer) obj).intValue();
        if (obj instanceof Integer && intValue > 0) {
            System.out.println(intValue);
        } else if (obj instanceof Float && ((Float) obj).floatValue() > 0.0) {
            System.out.println(((Float) obj).floatValue());
        }
    }
}"
Eclipse,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Extract variable,behavior change,"Extracting foo(""Format warning"") as local variable (enabling ""replace all occurrences"") would result in the following code. The resulting code is semantically different from the original code, which results in semantic errors.",https://youtrack.jetbrains.com/issue/IDEA-355423/Introduce-Variable-refactoring-changes-the-behavior-of-the-program,"public class A {
        static String[] Lines = {""1"", ""2"", ""3"", ""4"", ""5"", ""6"", ""7"", ""8"", ""9""};
        static int i = 0;

        private static String foo(String msg) {
                return msg+"": ""+ Lines[i++];
        }

        public static void main(String[] args) {
                System.out.println(foo(""Format warning""));
                System.out.println(foo(""Format warning""));

        }
}",-,"public class A {
        static String[] Lines = {""1"", ""2"", ""3"", ""4"", ""5"", ""6"", ""7"", ""8"", ""9""};
        static int i = 0;

        private static String foo(String msg) {
                return msg+"": ""+ Lines[i++];
        }

        public static void main(String[] args) {
                String formatWarning = foo(""Format warning"");
                System.out.println(formatWarning);
                System.out.println(formatWarning);

        }
}"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Extract variable,behavior change,"Extracting foo(""Format warning"") as local variable (enabling ""replace all occurrences"") would result in the following code. The resulting code is semantically different from the original code, which results in semantic errors.",,"public class A {
        static String[] Lines = {""1"", ""2"", ""3"", ""4"", ""5"", ""6"", ""7"", ""8"", ""9""};
        static int i = 0;

        private static String foo(String msg) {
                return msg+"": ""+ Lines[i++];
        }

        public static void main(String[] args) {
                System.out.println(foo(""Format warning""));
                System.out.println(foo(""Format warning""));

        }
}",-,"public class A {
        static String[] Lines = {""1"", ""2"", ""3"", ""4"", ""5"", ""6"", ""7"", ""8"", ""9""};
        static int i = 0;

        private static String foo(String msg) {
                return msg+"": ""+ Lines[i++];
        }

        public static void main(String[] args) {
                String formatWarning = foo(""Format warning"");
                System.out.println(formatWarning);
                System.out.println(formatWarning);

        }
}"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Move Type to a New File,compile error,"Use the code below and try to do a refactor move to upper level on ""Layout"",
it generates a CCE.
It seems due to the interface Layout being implemented by record.",,"
import java.util.Arrays;
import java.util.LinkedHashMap;
import java.util.Map;

import static java.util.Collections.unmodifiableMap;
import static java.util.Objects.requireNonNull;
import static java.util.stream.Collectors.joining;
import static java.util.stream.Collectors.toMap;

public interface MyInterface {
    interface Layout /*permits Layout.PrimitiveLayout, Layout.ListLayout, Layout.StructLayout*/ {
        default boolean isPrimitive() {
            return this instanceof PrimitiveLayout;
        }
        default boolean isList() {
            return this instanceof ListLayout;
        }
        default boolean isStruct() {
            return this instanceof StructLayout;
        }
        boolean nullable();
        default Map<String, Layout> fields() {
            return Map.of();
        }
        default Layout field(String name) {
            throw new IllegalArgumentException(""unknown field "" + name);
        }
        default Layout element() {
            throw new IllegalArgumentException(""no element"");
        }

        static PrimitiveLayout u1(boolean nullable) {
            return new PrimitiveLayout(nullable, boolean.class);
        }
        static PrimitiveLayout byte8(boolean nullable) {
            return new PrimitiveLayout(nullable, byte.class);
        }
        static PrimitiveLayout short16(boolean nullable) {
            return new PrimitiveLayout(nullable, short.class);
        }
        static PrimitiveLayout char16(boolean nullable) {
            return new PrimitiveLayout(nullable, char.class);
        }
        static PrimitiveLayout int32(boolean nullable) {
            return new PrimitiveLayout(nullable, int.class);
        }
        static PrimitiveLayout float32(boolean nullable) {
            return new PrimitiveLayout(nullable, float.class);
        }
        static PrimitiveLayout double64(boolean nullable) {
            return new PrimitiveLayout(nullable, double.class);
        }
        static PrimitiveLayout long64(boolean nullable) {
            return new PrimitiveLayout(nullable, long.class);
        }

        static ListLayout list(boolean nullable, Layout layout) {
            return new ListLayout(nullable, layout);
        }
        static ListLayout string(boolean nullable) {
            return list(true, char16(nullable));
        }

        static Field field(String name, Layout layout) {
            return new Field(name, layout);
        }
        static StructLayout struct(boolean nullable, Field... fields) {
            return new StructLayout(nullable, Arrays.stream(fields).collect(toMap(Field::name, Field::layout, (_1, _2) -> null, LinkedHashMap::new)));
        }

        private static String toString(String space, Layout layout) {
            if (layout instanceof PrimitiveLayout primitiveLayout) {
                return primitiveLayout.toString();
            }
            if (layout instanceof ListLayout listLayout) {
                if (listLayout.element instanceof PrimitiveLayout elementLayout && elementLayout.type == char.class) {
                    return ""string("" + elementLayout.nullable + "")"";
                }
                return ""list("" + listLayout.nullable + "", "" + toString(space, listLayout.element);
            }
            if (layout instanceof StructLayout structLayout) {
                if (structLayout.fields.isEmpty()) {
                    return ""struct("" + structLayout.nullable + "")"";
                }
                var newSpace = space + ""   "";
                return structLayout.fields.entrySet().stream()
                        .map(e -> newSpace + ""field(\"""" + e.getKey() + ""\"", "" + toString(newSpace, e.getValue()) + "")"")
                        .collect(joining("",\n"", ""struct("" + structLayout.nullable + "",\n"", ""\n"" + space + "")""));
            }
            throw new AssertionError();
        }

        record PrimitiveLayout(boolean nullable, Class<?> type) implements Layout {
            public PrimitiveLayout {
                requireNonNull(type);
                if (!type.isPrimitive()) {
                    throw new IllegalArgumentException(""only primitive types are allowed"");
                }
            }

            @Override
            public String toString() {
                var name = switch(type.getName()) {
                    case ""boolean"" -> ""u1"";
                    case ""byte"" -> ""byte8"";
                    case ""short"" -> ""short16"";
                    case ""char"" -> ""char16"";
                    case ""int"" -> ""int32"";
                    case ""float"" -> ""float32"";
                    case ""long"" -> ""long64"";
                    case ""double"" -> ""double64"";
                    default -> throw new AssertionError();
                };
                return name + ""("" + nullable + "")"";
            }
        }
        record ListLayout(boolean nullable, Layout element) implements Layout {
            public ListLayout {
                requireNonNull(element);
            }

            @Override
            public String toString() {
                return Layout.toString("""", this);
            }
        }
        record StructLayout(boolean nullable, Map<String, Layout> fields) implements Layout {
            public StructLayout {
                fields = new LinkedHashMap<>(fields);
            }

            @Override
            public Layout field(String name) {
                var layout = fields.get(name);
                if (layout == null) {
                    throw new IllegalArgumentException(""unknown field "" + name);
                }
                return layout;
            }

            @Override
            public Map<String, Layout> fields() {
                return unmodifiableMap(fields);
            }

            @Override
            public String toString() {
                return Layout.toString("""", this);
            }
        }
        record Field(String name, Layout layout) {
            public Field {
                requireNonNull(name);
                requireNonNull(layout);
            }

            @Override
            public String toString() {
                return ""field("" + name + "", "" + layout + "")"";
            }
        }
    }
}",-,"import java.util.Arrays;
import java.util.LinkedHashMap;
import java.util.Map;

import static java.util.Collections.unmodifiableMap;
import static java.util.Objects.requireNonNull;
import static java.util.stream.Collectors.joining;
import static java.util.stream.Collectors.toMap;

public interface MyInterface {
}

import java.util.Arrays;
import java.util.Collections;
import java.util.LinkedHashMap;
import java.util.Map;
import java.util.Objects;
import java.util.stream.Collectors;

/**
 *
 * @author schw
 */
public interface Layout {

    default boolean isPrimitive() {
        return this instanceof PrimitiveLayout;
    }

    default boolean isList() {
        return this instanceof ListLayout;
    }

    default boolean isStruct() {
        return this instanceof StructLayout;
    }

    boolean nullable();

    default Map<String, Layout> fields() {
        return Map.of();
    }

    default Layout field(String name) {
        throw new IllegalArgumentException(""unknown field "" + name);
    }

    default Layout element() {
        throw new IllegalArgumentException(""no element"");
    }

    static PrimitiveLayout u1(boolean nullable) {
        return new PrimitiveLayout(nullable, boolean.class);
    }

    static PrimitiveLayout byte8(boolean nullable) {
        return new PrimitiveLayout(nullable, byte.class);
    }

    static PrimitiveLayout short16(boolean nullable) {
        return new PrimitiveLayout(nullable, short.class);
    }

    static PrimitiveLayout char16(boolean nullable) {
        return new PrimitiveLayout(nullable, char.class);
    }

    static PrimitiveLayout int32(boolean nullable) {
        return new PrimitiveLayout(nullable, int.class);
    }

    static PrimitiveLayout float32(boolean nullable) {
        return new PrimitiveLayout(nullable, float.class);
    }

    static PrimitiveLayout double64(boolean nullable) {
        return new PrimitiveLayout(nullable, double.class);
    }

    static PrimitiveLayout long64(boolean nullable) {
        return new PrimitiveLayout(nullable, long.class);
    }

    static ListLayout list(boolean nullable, Layout layout) {
        return new ListLayout(nullable, layout);
    }

    static ListLayout string(boolean nullable) {
        return list(true, char16(nullable));
    }

    static Field field(String name, Layout layout) {
        return new Field(name, layout);
    }

    static StructLayout struct(boolean nullable, Field... fields) {
        return new StructLayout(nullable, Arrays.stream(fields).collect(Collectors.toMap(Field::name, Field::layout, (_1, _2) -> null, LinkedHashMap::new)));
    }

    private static String toString(String space, Layout layout) {
        if (layout instanceof PrimitiveLayout primitiveLayout) {
            return primitiveLayout.toString();
        }
        if (layout instanceof ListLayout listLayout) {
            if (listLayout.element instanceof PrimitiveLayout elementLayout && elementLayout.type == char.class) {
                return ""string("" + elementLayout.nullable + "")"";
            }
            return ""list("" + listLayout.nullable + "", "" + toString(space, listLayout.element);
        }
        if (layout instanceof StructLayout structLayout) {
            if (structLayout.fields.isEmpty()) {
                return ""struct("" + structLayout.nullable + "")"";
            }
            java.lang.String newSpace = space + ""   "";
            return structLayout.fields.entrySet().stream().map(e -> newSpace + ""field(\"""" + e.getKey() + ""\"", "" + toString(newSpace, e.getValue()) + "")"").collect(Collectors.joining("",\n"", ""struct("" + structLayout.nullable + "",\n"", ""\n"" + space + "")""));
        }
        throw new AssertionError();
    }
    public static class PrimitiveLayout implements Layout {

        public PrimitiveLayout(boolean nullable, Class<?> type) {
            Objects.requireNonNull(type);
            if (!type.isPrimitive()) {
                throw new IllegalArgumentException(""only primitive types are allowed"");
            }
        }

        @Override
        public String toString() {
            java.lang.String name = switch (type.getName()) {
                case ""boolean"" -> yield ""u1"";
                case ""byte"" -> yield ""byte8"";
                case ""short"" -> yield ""short16"";
                case ""char"" -> yield ""char16"";
                case ""int"" -> yield ""int32"";
                case ""float"" -> yield ""float32"";
                case ""long"" -> yield ""long64"";
                case ""double"" -> yield ""double64"";
                default -> throw new AssertionError();
            };
            return name + ""("" + nullable + "")"";
        }
    }
    public static class ListLayout implements Layout {

        public ListLayout(boolean nullable, Layout element) {
            Objects.requireNonNull(element);
        }

        @Override
        public String toString() {
            return Layout.toString("""", this);
        }
    }
    public static class StructLayout implements Layout {

        public StructLayout(boolean nullable, Map<String, Layout> fields) {
            fields = new LinkedHashMap<>(fields);
        }

        @Override
        public Layout field(String name) {
            com.mycompany.mavenproject22.Layout layout = fields.get(name);
            if (layout == null) {
                throw new IllegalArgumentException(""unknown field "" + name);
            }
            return layout;
        }

        @Override
        public Map<String, Layout> fields() {
            return Collections.unmodifiableMap(fields);
        }

        @Override
        public String toString() {
            return Layout.toString("""", this);
        }
    }
    public static class Field {

        public Field(String name, Layout layout) {
            Objects.requireNonNull(name);
            Objects.requireNonNull(layout);
        }

        @Override
        public String toString() {
            return ""field("" + name + "", "" + layout + "")"";
        }
    }
    
}"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Rename Method,Exception,refactor comp to qq,,"public record User(int comp) {


    private void method1() {
    }

    private void method() {
        int a = comp;
        this.comp();  //refactor comp to qq

    }

}",-,Exception
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Move Type to a New File,compile error,Trying to move the type Bar to upper level,,"public record User(User.Bar bar) {
    public record Bar(int i) {}

}",-,"public record User(User.Bar bar) {

    public User(Bar bar) {
    }

}
public class Bar {
}
"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Pull up,compile error,Use the Pull Up refactoring to pull the method up into interface,,"public interface MyInterface {

}
import java.text.MessageFormat;
import java.util.Arrays;
import java.util.logging.Level;
import java.util.logging.LogManager;

public class A implements MyInterface{
    public void log(Level level, String message, String... parameters) {
        String formattedMessage = MessageFormat.format(message, (Object[])parameters);
        System.out.println(""Logging ""+message+"" with ""+ Arrays.asList(parameters));
        LogManager.getLogManager().getLogger(Foo.class.getName()).log(level, formattedMessage);
    }
}
public class B implements MyInterface {

}",-,"public interface MyInterface {

    void log(Level level, String message, String... parameters);

}
import java.text.MessageFormat;
import java.util.Arrays;
import java.util.logging.Level;
import java.util.logging.LogManager;

public class A implements MyInterface{
    public void log(Level level, String message, String... parameters) {
        String formattedMessage = MessageFormat.format(message, (Object[])parameters);
        System.out.println(""Logging ""+message+"" with ""+ Arrays.asList(parameters));
        LogManager.getLogManager().getLogger(Foo.class.getName()).log(level, formattedMessage);
    }
}
public class B implements MyInterface {

}"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Pull up,compile error,Pull up the method B.b() to A.Foo.,,"public class A{
    interface Foo {
    }

    static class Bar implements Foo {

        /** baz it! */
        void baz(final String s) {
        }
    }
}
import java.util.List;

public class B implements A.Foo{
    public void b() {
        List<Object> l = null;
    }
}",-,"public class A{
    interface Foo {

        void b();
    }

    static class Bar implements Foo {

        /** baz it! */
        void baz(final String s) {
        }
    }
}
import java.util.List;

public class B implements A.Foo{
    public void b() {
        List<Object> l = null;
    }
}"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Pull up,compile error,Pull Up m() to A,,"public abstract class A{

}
public abstract class B extends A{
    abstract void m();
}
public class C extends A{

}",-,"public abstract class A{

    abstract void m();

}
public abstract class B extends A{
}
public class C extends A{

}"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Inline Variable,redundant change,inline variable test,,"public class A{
    public void testIt() {
        // blah
        String test = """";
        System.out.println(test);
    }
}",-,"public class A{
    public void testIt() {
        System.out.println( // blah
        """");
    }
}"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Rename method,compile error,Change signature of abc() to qqq(): change name & have delegate checkboxes checked,,"public class A{
    void abc() {}
    void ref() {
        abc();
    }
}","public class A{
    void abc() {
        qqq();
    }

    void qqq() {}
    void ref() {
        abc();
    }
}","public class A{
    void qqq() {
        abc();
    }

    void qqq() {
    }
    void ref() {
        abc();
    }
}"
Eclipse,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Move Type to New File,compile error,"Move Inner into a class in a different package. Both the class Inner and the
field a should have their visibility adjusted.",https://youtrack.jetbrains.com/issue/IDEA-355273/Move-inner-class-to-different-package-refactoring-result-in-syntax-error,"public class A {
    static class Inner {
        String a;
    }
}
public class B {
    Object o= new A.Inner().a;
}",-,-
Eclipse,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Pull up method,compile error,pull up sub from B to A,https://youtrack.jetbrains.com/issue/IDEA-355272/Pull-Members-Up-refactoring-for-the-classes-using-generic-types-producing-uncompilable-program,"public class A<ELEM extends Number> {
    void add(ELEM e) {

    }

    ELEM get() {

        return null;

    }
}
public class B<ELEM> extends A<Integer>{
    void sub(Integer i) {
        add(i);
    }
}",-,"public class A<ELEM extends Number> {
    void add(ELEM e) {

    }

    ELEM get() {

        return null;

    }

    void sub(Integer i) {
        add(i);
    }
}
public class B<ELEM> extends A<Integer>{
}"
Eclipse,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Move Type to New File,compile error,Move Inner to a new file.  The resulting code does not compile,https://youtrack.jetbrains.com/issue/IDEA-355271/Move-Inner-Class-to-Upper-Level-refactoring-fails-for-inner-class-using-generic-type,"public class A<T> {
    class Inner {
        T foo;
    }

    T foo() {
        Inner inner = new Inner();
        return inner.foo;
    }
}",-,-
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Move Type to New File,compile error,Move Inner to a new file.  The resulting code does not compile,,"public class A<T> {
    class Inner {
        T foo;
    }

    T foo() {
        Inner inner = new Inner();
        return inner.foo;
    }
}",-,-
Eclipse,IDEA,"IntelliJ IDEA 2024.1.2 (Ultimate Edition
Build #IU-241.17011.79, built on May 22, 2024
untime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.",Oracle OpenJDK 22.0.1,Move Type to New File,compile error,extracting Inner to a new file (with default settings) produces non-building,https://youtrack.jetbrains.com/issue/IDEA-355200/Move-Inner-Class-to-Upper-Level-refactoring-produces-uncompilable-program-for-classes-in-different-package,"package org.example;

public abstract class A {
    public int i;
    protected class Inner {
        void go() {
            i = 1;
        }
    }
    public abstract void go(Inner param);
}
package org.example.selfAnno;

import org.example.A;

public class B extends A {
    public void go(Inner param) {}
}",-,-
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.1,Move Type to New File,compile error,extracting Inner to a new file (with default settings) produces non-building,,"package org.example;

public abstract class A {
    public int i;
    protected class Inner {
        void go() {
            i = 1;
        }
    }
    public abstract void go(Inner param);
}
package org.example.selfAnno;

import org.example.A;

public class B extends A {
    public void go(Inner param) {}
}",-,-
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 17.0.8,introduce method / extract method,compile error,"Select o instanceof X x
Refactor -> Introduce -> Method",https://github.com/apache/netbeans/issues/7428,"class X {
        private void foo(Object o) {
            if (o instanceof X x) { // select the entire o instanceof X x
                System.out.println(x.toString());
                x.foo(null);
            }

        }
    }",-,"class X {
        private void foo(Object o) {
                if (extract1(o)) { // select the entire o instanceof X x
                        System.out.println(x.toString());
                        x.foo(null);
                }

        }

        private boolean extract1(Object o) {
            return o instanceof X x;
        }
    }"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 17.0.8,introduce method / extract method,incomplete refactoring,"Select ""int b= 10; ""
Refactor -> Introduce -> Method",https://github.com/apache/netbeans/issues/7427,"public interface I1 {
        int foo(int a);
}

interface I2 {
        I1 i1= (a) -> {
                int b= 10; 
                return a + b;
        };
}","    public interface I1 {
        int foo(int a);
    }

    interface I2 {
        I1 i1 = (a) -> {
            int b = getB();
            return a + b;
        };

        private static int getB() {
            int b = 10; 
            return b;
        }
    }","a warning: ""Invalid Selection."""
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.0,introduce method / extract method,compile error,"Select ""list.size()""
Refactor -> Introduce -> Method",,"private <T> int foo(List<T> list) {
                return list.size();
        }","private <T> int foo(List<T> list) {
        return getSize(list);
    }

    private static <T> int getSize(List<T> list) {
        return list.size();
    }","private <T> int foo(List<T> list) {
                return extract1(list);
    }

    private static int extract1(List<T> list) {
        return list.size();
    }"
Eclipse,IntelliJ,"IntelliJ IDEA 2024.1.2 (Ultimate Edition)
Build #IU-241.17011.79, built on May 22, 2024
Runtime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.

",Oracle OpenJDK 22.0.0,Extract / Introduce Method,compile error,"select ""1"" after ""case""
Refactor -> Extract / Introduce -> Method",,"private void foo(int e) {
        switch (e) {
            case 1:
                break;
        }
    }",should be disable,"private void foo(int e) {
        switch (e) {
            case getAnInt():
                break;
        }
    }

    private static int getAnInt() {
        return 1;
    }"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.0,Introduce Method,compile error,"select ""1"" after ""case""
Refactor -> Extract / Introduce -> Method",,"private void foo(int e) {
        switch (e) {
            case 1:
                break;
        }
    }",should be disable,"private void foo(int e) {
        switch (e) {
            case getAnInt():
                break;
        }
    }

    private static int getAnInt() {
        return 1;
    }"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.0,Introduce Variable,compile error,"Select o instanceof X x 
Refactor -> Introduce -> Variable",,"class X {
        private void foo(Object o) {
                if (o instanceof X x) { // select the entire o instanceof X x
                        System.out.println(x.toString());
                        x.foo(null);
                }

        }
}",should be disable,"class X {
        private void foo(Object o) {
            final boolean name = o instanceof X x;
                if (name) { // select the entire o instanceof X x
                        System.out.println(x.toString());
                        x.foo(null);
                }

        }
    }"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.0,Introduce Variable,incomplete refactoring,"Select 0 
Refactor -> Introduce -> Variable",,"public void x(int i) {
        switch (i) {
            case 0:
            case 1:
        }
    }","public void x(int i) {
        final int i1 = 0;
        switch (i) {
            case i1:
            case 1:
        }
    }",no changes
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.0,Introduce Variable,behavior change,"Select a[i] 
Refactor -> Introduce -> Variable",,"public void testFoo() {
                int a[]= new int[20];
                
                for (int i= 0; i < a.length; i++) 
                        System.out.println(a[i]);
        }","    public void testFoo() {
        int a[]= new int[20];

        for (int i= 0; i < a.length; i++) {
            int j = a[i];
            System.out.println(j);
        }
    }","public void testFoo() {
	int a[]= new int[20];
        final int j = a[i];
		
	for (int i= 0; i < a.length; i++) 
            System.out.println(j);
    }"
Eclipse,IntelliJ,"IntelliJ IDEA 2024.1.2 (Ultimate Edition)
Build #IU-241.17011.79, built on May 22, 2024
Runtime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.

",Oracle OpenJDK 22.0.0,Extract / Introduce Method,compile error,"Select //extract here
            tmp = res;
            res += 1;
            //to here 
Refactor -> Introduce -> Variable",,"private int getGridY(int y) {
        int tmp = 0, res = 1;
        while (res < y) {
        	//extract here
            tmp = res;
            res += 1;
            //to here
        }
        return tmp;
    }
    
    public void testCase(){    	
    	assertEquals(getGridY(7),6);
    }","should be disable
NetBeans will warn that ""Too many return values"" and refuse to do refactoring","private int getGridY(int y) {
        int tmp = 0, res = 1;
        while (res < y) {
            //extract here
            tmp = res;
            res += 1;
            //to here
            Result result = new Result(tmp, res);
        }
        return result.tmp();
    }

    private record Result(int tmp, int res) {
    }

    public void testCase(){
        System.out.println(getGridY(7));
    }"
Eclipse,IntelliJ,"IntelliJ IDEA 2024.1.2 (Ultimate Edition)
Build #IU-241.17011.79, built on May 22, 2024
Runtime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.

",Oracle OpenJDK 22.0.1,Inline method,incomplete refactoring,"Select getI() in class A from left to right
Refactor ->  Inline Method -> Error ""Caret should be positioned at the name of element to be refactored""
However, if you select ""getI()"" from right to left, the error won't appear. The refactoring can continue with ""Inline all and remove the method""",,"public class A {
        public static int i;

        public static int getI() {         // APPLY INLINE HERE
                return i;
        }
}

public enum B {
        m(A.getI());
        
        B(int j){                
        }
}","public class A {
    public static int i;
    
}
public enum B {
    m(A.i);

    B(int j){
    }
}",Cannot perform refactoring
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.0,Inline method,incomplete refactoring,"Select getI() in class A
Refactor -> Inline...",,"public class A {
        public static int i;

        public static int getI() {         // APPLY INLINE HERE
                return i;
        }
}

public enum B {
        m(A.getI());
        
        B(int j){                
        }
}","public class A {
    public static int i;
    
}
public enum B {
    m(A.i);

    B(int j){
    }
}",NPE
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.0,Inline method,compile error,"Select isString(Object o) 
Refactor -> Inline... ->Do Refactoring",,"void example(int i){
        if(!isString(i)){
            return;
        }
    }
    boolean isString(Object o) {
        return o instanceof String;
    }","void example(int i){
        if(!((Object) i instanceof String)){
            return;
        }
    }","void example(int i){
        if(!(i instanceof String)){
            return;
        }
    }"
Eclipse,IntelliJ,"IntelliJ IDEA 2024.1.2 (Ultimate Edition)
Build #IU-241.17011.79, built on May 22, 2024
Runtime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.

",Oracle OpenJDK 22.0.1,Inline Method,incorrect warning message,"Select getId()"" in Main.getId() from left to right
Refactor -> Inline Method -> Error ""Caret should be positioned at the name of element to be refactored""
However, if you select ""getId()"" from right to left, the error won't appear",,"public class Main {
    public static final String ID= ""id"";

    public static String getId() {
        return ID;
    }

}

--

public class Dependent {
    public void m() {
        String s= Main.getId();
    }
}","public class Main {
    public static final String ID= ""id"";
}

--

public class Dependent {
    public void m() {
        String s= Main.ID;
    }
}",Cannot perform refactoring
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.0,Inline method,behavior change,"Select add(int x, int y) 
Refactor -> Inline Method -> Inline all and remove the method",,"public class Bug {
    static String[]field;
    public static void main(String[]args){
        add((field=args).length,field.hashCode());
    }
    static int add(int x, int y){
        return y+x;
    }
}","public class Bug {

    static String[]field;
    public static void main(String[]args){
        field = args;
        field.hashCode();
    }
}","public class Bug {
    static String[]field;
    public static void main(String[]args){
    }
    
}"
Eclipse,IntelliJ,"IntelliJ IDEA 2024.1.2 (Ultimate Edition)
Build #IU-241.17011.79, built on May 22, 2024
Runtime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.

",Oracle OpenJDK 22.0.1,Inline Method,incorrect warning message,"Select setData(data) from left to right
Refactor -> Inline method
However, if you select ""setData(data)"" from right to left, the error won't appear",,"public class InlineMethodBug {
    private Object data;

    InlineMethodBug(Object data){
                this.setData(data);
    }

    //inline this method, remove decl
        private void setData(Object bytes) {
                this.data= bytes;
        }
}","private Object data;

    InlineMethodBug(Object data){
        this.data= data;
    }

    //inline this method, remove decl",Cannot perform refactoring
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.0,move method,compile error,"Select n(q.C c, A a) in B1
Refactor -> Move...",,"package p;
public class A {
        protected void m(){}
}


package p;
public class B {
        public void n(q.C c, A a) {
                a.m();
        }
}

package q;
public class C {

}","should prevent or give warning like IntelliJ ""Method A.m() is protected and will not be accessible from method n(C, A)."" or change the visibility of m() in class A","package p;
public class A {
        protected void m(){}
}


package p;
public class B {
}

package q;
public class C {
        public void n(A a) {
                a.m();
        }
}"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.0,move method,compile error,"- move doit(..) to B
  -> compiles
- move subroutine(..) to B
  -> does not compile ",,"class A {
    B fB;
    
    public void doit(String doitArg) {
        subroutine(1.2f);
    }
    
    public void subroutine(float subArg) {
        subsub();
    }

    public void subsub() {
        
    }
    
}

class B {
    
}","public class A {
    B fB;

    public void subsub() {

    }
}
public class B{

    public void doit(String doitArg, A a) {
        a.fB.subroutine(1.2f, a);
    }

    public void subroutine(float subArg, A a) {
        a.subsub();
    }
}","public class A {
    B fB;
    
    

    public void subsub() {
        
    }
}
public class B {

    public void doit(String doitArg, A a) {
        subroutine(1.2F);
    }

    public void subroutine(float subArg, A a) {
        a.subsub();
    }
    
}
"
Eclipse,IntelliJ,"IntelliJ IDEA 2024.1.2 (Ultimate Edition)
Build #IU-241.17011.79, built on May 22, 2024
Runtime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.

",Oracle OpenJDK 22.0.1,move method,incorrect warning message,"Select method 
Refactor -> Move Instant Method...",,"public class Bug {
    public static int field;
    class Inner{
        int number=field;
        int method(){return field;}
    }
}","public class Bug {
    public static int field;
    int method(){return field;}
    class Inner{
        int number=field;
    }
}","Error: Cannot perform refactoring.
There are no method parameters or containing class field that have reference type"
Eclipse,IntelliJ,"IntelliJ IDEA 2024.1.2 (Ultimate Edition)
Build #IU-241.17011.79, built on May 22, 2024
Runtime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.

",Oracle OpenJDK 22.0.1,move field,incomplete refactoring,"Select number""
Refactor -> ",,"public class Bug {
    public static int field;
    class Inner{
        int number=field;
        int method(){return field;}
    }
}","public class Bug {
    public static int field;
    int number=field;
    class Inner{
        int method(){return field;}
    }
}",didn't offer move field option
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.0,move method,"compile error, missing static import","Select getInt ()""
Refactor -> Move ...",,"
import static java.lang.Integer.*;
public class Source { static int getInt () { return parseInt(""""); } }
-------
public class Target {}","public class Source {}
-------
import static java.lang.Integer.*;
public class Target { static int getInt () { return parseInt(""""); } }","import static java.lang.Integer.*;
public class Source {}
-------
public class Target { static int getInt () { return parseInt(""""); } }"
Eclipse,IntelliJ,"IntelliJ IDEA 2024.1.2 (Ultimate Edition)
Build #IU-241.17011.79, built on May 22, 2024
Runtime version: 17.0.11+1-b1207.24 amd64
VM: OpenJDK 64-Bit Server VM by JetBrains s.r.o.

",Oracle OpenJDK 22.0.1,Change Method Signature,compile error,"Select String[] args""
Refactor -> Change Signature... -> change ""String[]"" to ""String""",,"public static void main(String[] args) {
                System.out.println(args[0]);
                                
        }",Warning: Old parameter values of type java.lang.String[] can not be assigned to String. The sources may not compile after refactoring!,"public static void main(String args) {
        System.out.println(args[0]);

    }"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.0,Change Method Parameter,"compile error, ""method does not override or implement a method from a super type""","Select testThis()"" in class B
Refactor -> Change Method Parameter -> change access to ""private""",,"public class A {
    public void testThis() {
        System.out.println(""method1"");
    }
}
public class B extends A{
    @Override
    public void testThis() {
        System.out.println(""method2"");
    }
}","give warning to prevent this refactoring. IntelliJ doesn't provide ""change visibility"" option in this case","public class A {
    private void testThis() {
        System.out.println(""method1"");
    }
}
public class B extends A{
    @Override
    private void testThis() {
        System.out.println(""method2"");
    }
}"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.0,Change Method Parameter,comment related,"Select packetReceived"" 
Refactor -> Change Method Parameter -> change ""BitVector"" to ""long""",,"public void packetReceived(
        final RoutedPacket pkt,
        final PktNodeInfo fromNode,
        final PktNodeInfo toNode,
        final BitVector/*64*/sendTime,
        final BitVector/*64*/recvTime)","public void packetReceived(
            final RoutedPacket pkt,
            final PktNodeInfo fromNode,
            final PktNodeInfo toNode,
            final long/*64*/sendTime,
            final long/*64*/recvTime){}","public void packetReceived(
        final RoutedPacket pkt, final PktNodeInfo fromNode, final PktNodeInfo toNode, final long sendTime, final long recvTime){}
    /*64*/
    /*64*/"
Eclipse,NetBeans,"Product Version: Apache NetBeans IDE 22
Java: 22.0.1; Java HotSpot(TM) 64-Bit Server VM 22.0.1+8-16
Runtime: Java(TM) SE Runtime Environment 22.0.1+8-16
System: Windows 11 version 10.0 running on amd64; UTF-8; en_CA (nb)",Oracle OpenJDK 22.0.0,Change Method Parameter,incomplete refactoring,"Select setUp()"" 
Refactor -> Change Method Parameter ",,"import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;


@Retention(RetentionPolicy.RUNTIME)
public @interface IsTest {
	String setUp() default """";
	String tearDown() default """";
}","import java.lang.annotation.Retention;
import java.lang.annotation.RetentionPolicy;


@Retention(RetentionPolicy.RUNTIME)
public @interface IsTest {
	String setUp1() default """";
	String tearDown() default """";
}",Error: @interface members may not have parameters
